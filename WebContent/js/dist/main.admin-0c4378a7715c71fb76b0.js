(()=>{"use strict";var e,t={632:(e,t,n)=>{function a(e,t,n=null){$("#mainContainer").append('<div class="modal" tabindex="-1" id="#mainModal">\n\t<div class="modal-dialog">\n\t  <div class="modal-content">\n\t\t<div class="modal-header">\n\t\t  <h5 class="modal-title">'+e+'</h5>\n\t\t  <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t\t\t<span aria-hidden="true">&times;</span>\n\t\t  </button>\n\t\t</div>\n\t\t<div class="modal-body">\n\t\t  <p>'+t+'</p>\n\t\t</div>\n\t\t<div class="modal-footer">\n\t\t  <button type="button" class="btn btn-outline-primary" data-dismiss="modal">Close</button>\n\t\t</div>\n\t  </div>\n\t</div>\n  </div>'),$(".modal").modal("show"),$(".modal").on("hidden.bs.modal",(function(){if(document.getElementById("mainContainer").removeChild($(".modal")[0]),null!=n)for(const e of n)e()}))}n.d(t,{A:()=>m});const o=(e,t,n)=>{let a=document.createElement("div"),o=document.createElement("h5");o.textContent="Search by Date",a.append(o);let d=document.createElement("input");return a.append(d),d.type="date",d.name="searchDate",d.classList.add("form-control"),d.id="searchDate",d.addEventListener("change",(a=>{a.preventDefault(),""!==d.value&&$.ajax({method:"GET",url:e+d.value,success:e=>{t(e)},error:(e,t,a)=>{n()}})})),a},d=(e,t,n,a)=>{let o=document.createElement("div");o.id="containerSearchName";let d=document.createElement("h5");d.textContent="Search by Name",o.append(d),o.style.setProperty("margin-top","28px");let r=document.createElement("input");return o.append(r),r.type="text",r.name="name",r.placeholder="Fill me",r.autocomplete="off",r.setAttribute("list","datalistSearch"),r.classList.add("form-control"),r.id="searchName",r.addEventListener("input",(a=>{a.preventDefault(),""!==r.value&&$.ajax({method:"GET",url:e+r.value,success:function(e){t(e)},error:function(e,t,a){n()}})})),o.addEventListener("keyup",(e=>{e.preventDefault(),"Enter"===e.key&&a(r.value)})),o},r=e=>{let t=document.getElementById("datalistSearch");if(null==t)t=document.createElement("datalist"),t.id="datalistSearch";else for(;t.lastElementChild;)t.removeChild(t.lastElementChild);return $.each(e,((e,n)=>{let a=document.createElement("option");a.value=n.name,t.append(a)})),t};let l=$("#mainContainer");document.documentElement.style.setProperty("--screen-y",window.innerHeight+"px"),window.onresize=()=>{document.getElementById("mainContainer").style.setProperty("max-height",window.innerHeight-150+"px"),document.getElementsByClassName("col-table-8")[0].style.setProperty("max-height",window.innerHeight-150+"px")};let s=!1;window.addEventListener("popstate",(e=>{s=!0,null!=e.state.url?i(e.state.url,e.state.data):i("logout")}));const i=(e,t=null)=>{console.log("Changing tab to => "+e),s?s=!1:history.pushState({url:e,data:t},e),document.title="Admin: "+e;let i=l[0];null===e?document.body.removeChild(i):(l.addClass("slide-out"),i.addEventListener("animationend",(()=>{document.body.removeChild(i)})));let c=null;switch(e){case"creation":c=(()=>{const e=function(){let e=+sessionStorage.getItem("questionNumber")||1,t=document.createElement("input");return t.id="inputQuestion"+e,t.type="text",t.name="Question"+e,t.className="form-control question",t.placeholder="Question",document.getElementById("questionFormGroup").appendChild(t),e++,sessionStorage.setItem("questionNumber",e.toString()),!1};let t=document.createElement("form");t.id="mainForm";let n=document.createElement("div");n.classList.add("form-group"),t.append(n);let o=document.createElement("div");o.classList.add("form-row"),n.append(o);let d=document.createElement("div");d.classList.add("col-md-6"),o.append(d);let r=document.createElement("label");r.for="inputName",r.textContent="Name",d.append(r);let l=document.createElement("input");l.type="text",l.name="name",l.classList.add("form-control"),l.id="inputName",l.placeholder="Enter product name",l.required=!0,d.append(l);let s=document.createElement("div");s.classList.add("col-md-6"),s.style.setProperty("text-align","center"),o.append(s);let i=document.createElement("label");i.for="inputImageRow",i.textContent="Image",s.append(i);let c=document.createElement("div");c.classList.add("row","justify-content-center"),c.id="inputImageRow",s.append(c);let m=document.createElement("label");m.for="inputImage",m.id="imageFakeLabel",m.classList.add("btn","btn-outline-primary"),m.textContent="Browse for an image",m.style.setProperty("position","absolute"),m.style.setProperty("bottom","0"),m.style.setProperty("margin","0 0 0 0"),c.append(m);let u=document.createElement("input");u.type="file",u.classList.add("form-control"),u.addEventListener("change",(e=>{sessionStorage.setItem("imageUploaded","true")})),u.id="inputImage",u.name="image",u.required=!0,u.hidden=!0,m.append(u);let p=document.createElement("div");p.classList.add("form-group"),t.append(p);let f=document.createElement("label");f.for="inputDate",f.textContent="Date",p.append(f);let g=document.createElement("input");g.type="date",g.name="date",g.classList.add("form-control"),g.id="inputDate",g.required=!0,p.append(g);let h=document.createElement("label");h.for="inputQuestion0",h.textContent="Questions",t.append(h);let E=document.createElement("div");t.append(E),E.classList.add("form-group"),E.id="questionFormGroup";let y=document.createElement("input");y.type="text",y.name="Question0",y.classList.add("form-control","question"),l.id="inputQuestion0",y.placeholder="Question",y.required=!0,E.append(y);let b=document.createElement("button");b.classList.add("btn","btn-outline-primary"),b.addEventListener("click",(t=>{t.preventDefault(),e()})),b.id="addQuestionButton",b.textContent="Add Question",b.style.setProperty("margin-right","10px"),t.append(b);let v=document.createElement("button");return v.classList.add("btn","btn-outline-success"),v.type="submit",v.textContent="Create!",v.addEventListener("click",(e=>{null!==sessionStorage.getItem("imageUploaded")||a("Error","Please upload an image")})),t.append(v),$("#addQuestionButton").on("click",e),t})();break;case"inspection":c=(()=>{let e=document.createElement("div");e.classList.add("row");let t=document.createElement("div");t.classList.add("col-md-8","col-table-8");let n=document.createElement("div");n.classList.add("col-md-4"),n.classList.add("col-search");let l=document.createElement("table");l.classList.add("table","table-borderless"),e.append(t),e.append(n);let s=null;n.append(o("/GamifyUser/admin/getQuestionnaire?mode=1&date=",(e=>{m(e.questionnaireId)}),(()=>a("No result","Got nothing on that date.")))),n.append(d("/GamifyUser/admin/getQuestionnaire?mode=2&name=",(e=>{s=e,n.append(r(e))}),(()=>a("Error","Error")),(e=>{for(const t of s)if(t.name===e)return void m(t.questionnaireId)}))),t.append(l);let i=document.createElement("thead");i.classList.add("thead"),l.append(i);let c=document.createElement("tr"),u=document.createElement("th");u.textContent="Date";let p=document.createElement("th");p.textContent="Product";let f=document.createElement("th");f.textContent="Detail",i.append(c),c.append(u),c.append(p),c.append(f);let g=document.createElement("tbody");return l.append(g),$.getJSON("/GamifyUser/admin/listQuestionnaires?start=0&size=100",(function(e){$.each(e,(function(e,t){let n=document.createElement("tr"),a=document.createElement("td");a.textContent=t.datetime.slice(0,12).replaceAll(",",""),n.append(a),a=document.createElement("td"),a.textContent=t.name,n.append(a),a=document.createElement("td");let o=document.createElement("button");o.classList.add("btn","btn-outline-primary"),o.addEventListener("click",(e=>{m(t.questionnaireId)}));let d=document.createElement("i");d.classList.add("fas","fa-newspaper"),d.textContent=" Open",d.style.setProperty("font-weight","lighter"),o.append(d),a.append(o),n.append(a),g.append(n)}))})),e})();break;case"deletion":c=(()=>{const e=e=>{$.ajax({url:"/GamifyUser/admin/delete?id="+e.questionnaireId,success:function(e){a("Success!","Questionnaire deleted correctly",[()=>location.reload()])},error:function(e,t,n){a("Error",e.responseText)}})};let t=document.createElement("div");t.classList.add("row");let n=document.createElement("div");n.classList.add("col-md-8","col-table-8-red");let l=document.createElement("div");l.classList.add("col-md-4"),l.classList.add("col-search");let s=document.createElement("table");s.classList.add("table","table-borderless"),t.append(n),t.append(l);let i=null;l.append(o("/GamifyUser/admin/getQuestionnaire?mode=3&date=",(t=>{e(t)}),(()=>a("No result","Got nothing on that date.")))),l.append(d("/GamifyUser/admin/getQuestionnaire?mode=4&name=",(e=>{i=e,l.append(r(e))}),(()=>a("Error","Error")),(t=>{for(const n of i)if(n.name===t)return void e(n)}))),n.append(s);let c=document.createElement("thead");c.classList.add("thead"),s.append(c);let m=document.createElement("tr"),u=document.createElement("th");u.textContent="Date";let p=document.createElement("th");p.textContent="Product";let f=document.createElement("th");f.textContent="Detail",c.append(m),m.append(u),m.append(p),m.append(f);let g=document.createElement("tbody");return s.append(g),$.getJSON("/GamifyUser/admin/listQuestionnaires?start=0&size=100&past=true",(function(t){$.each(t,(function(t,n){let a=document.createElement("tr"),o=document.createElement("td");o.textContent=n.datetime.slice(0,12).replaceAll(",",""),a.append(o),o=document.createElement("td"),o.textContent=n.name,a.append(o),o=document.createElement("td");let d=document.createElement("button");d.classList.add("btn","btn-outline-danger");let r=document.createElement("i");d.addEventListener("click",(()=>e(n))),r.style.setProperty("font-weight","lighter"),r.classList.add("fas","fa-newspaper"),r.textContent=" Delete",d.append(r),o.append(d),a.append(o),g.append(a)}))})),t})();break;case"logout":window.location.pathname="/GamifyUser/LogOut";break;case"inspectionUserList":c=(e=>{const t="/GamifyUser/admin/listQuestionnaireCompletedUsers?start=0&size=100&id="+e,a="/GamifyUser/admin/listQuestionnaireCanceledUsers?start=0&size=100&id="+e;let o=document.createElement("div");o.classList.add("row"),o.id="mainRow",o.name=e;let d=document.createElement("div");d.classList.add("col-md-3");let r=document.createElement("ul");r.classList.add("list-group"),r.id="completedUsersList";let l=document.createElement("div");l.classList.add("col-md-3");let s=document.createElement("ul");s.classList.add("list-group"),s.id="canceledUsersList";let i=document.createElement("div");i.classList.add("col-md-6"),i.id="answersColumn";let c=document.createElement("h3");c.style.setProperty("text-align","center"),c.style.setProperty("margin-bottom","20px"),c.textContent="Completed";let m=document.createElement("h3");m.style.setProperty("text-align","center"),m.style.setProperty("margin-bottom","20px"),m.textContent="Canceled";let u=document.createElement("h3");return u.style.setProperty("text-align","center"),u.style.setProperty("margin-bottom","20px"),u.textContent="Answers",d.append(c),l.append(m),d.append(r),l.append(s),i.append(u),o.append(d),o.append(l),o.append(i),$.getJSON(t,(function(e){let t=document.getElementById("completedUsersList");t.classList.add("optional-answers-scrollable"),$.each(e,(function(e,n){let a=document.createElement("li");a.classList.add("list-group-item"),a.textContent=n.username,a.id=n.userId,t.append(a)})),n.e(832).then(n.bind(n,434)).then((e=>{e.default()}))})),$.getJSON(a,(function(e){let t=document.getElementById("canceledUsersList");t.classList.add("optional-answers-scrollable"),$.each(e,(function(e,n){let a=document.createElement("li");a.classList.add("list-group-item","canceled-users"),a.textContent=n.username,a.id=n.userId,t.append(a)}))})),o})(t);break;default:return}let u=document.createElement("div");u.classList.add("container","container-admin"),u.id="mainContainer",u.append(c),u.classList.add("fade-in"),u.addEventListener("animationend",(e=>{u.classList.remove("fade-in")})),document.body.insertAdjacentElement("afterbegin",u),l=$(u)},c=(e,t=700)=>{$("body").fadeOut(t,(function(){document.getElementById("darkModeCSSLink").setAttribute("href","dark"===e?"css/dark-admin.css":""),$(this).fadeIn(t)}))};!function(){const e=Array.from(document.getElementsByClassName("sidenav-button"));document.addEventListener("mousedown",(t=>{let n=t.target;e.includes(n)&&(t.preventDefault(),i(n.id))}));const t=document.getElementById("gamifyLogo");if(null===localStorage.getItem("protipOpened")){let e=document.createElement("label");e.setAttribute("for","sidenav"),e.textContent="↓ ~try clicking here!~ ↓",e.classList.add("protip-div"),document.body.insertAdjacentElement("afterbegin",e)}const n=()=>localStorage.getItem("theme")||"light";"dark"===n()&&c("dark",0),t.addEventListener("click",(e=>{let t="light"===n()?"dark":"light";c(t),localStorage.setItem("theme",t),null===localStorage.getItem("protipOpened")&&(localStorage.setItem("protipOpened","true"),document.getElementsByClassName("protip-div")[0].remove())})),i("creation",null),$(document).on("submit","form",(function(e){e.preventDefault();let t=new Date($(this)[0][2].value),n=new Date;if(n.setHours(0,0,0,0),null==t||t<n)return void a("Error","Time travel doesn't exist yet, so please try entering a date that's not in the past.");if(null===sessionStorage.getItem("imageUploaded"))return void a("Error","Please upload an image");let o=new FormData($(this)[0]);$.ajax({method:"POST",url:"/GamifyUser/admin/create",data:o,processData:!1,contentType:!1,timeout:2e4,success:function(e){e.redirect?window.location.href=e.redirect:a("Success","Congrats! The questionnaire has been submitted successfully.")},error:function(e,t,n){a("Error",e.responseText)}})}))}();const m=e=>{i("inspectionUserList",e)}}},n={};function a(e){if(n[e])return n[e].exports;var o=n[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"./inspectionUserPage.admin-78ec7e81e81c4c925317.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},a.l=(t,n,o)=>{if(e[t])e[t].push(n);else{var d,r;if(void 0!==o)for(var l=document.getElementsByTagName("script"),s=0;s<l.length;s++){var i=l[s];if(i.getAttribute("src")==t){d=i;break}}d||(r=!0,(d=document.createElement("script")).charset="utf-8",d.timeout=120,a.nc&&d.setAttribute("nonce",a.nc),d.src=t),e[t]=[n];var c=(n,a)=>{d.onerror=d.onload=null,clearTimeout(m);var o=e[t];if(delete e[t],d.parentNode&&d.parentNode.removeChild(d),o&&o.forEach((e=>e(a))),n)return n(a)},m=setTimeout(c.bind(null,void 0,{type:"timeout",target:d}),12e4);d.onerror=c.bind(null,d.onerror),d.onload=c.bind(null,d.onload),r&&document.head.appendChild(d)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={179:0};a.f.j=(t,n)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var d=new Promise(((n,a)=>{o=e[t]=[n,a]}));n.push(o[2]=d);var r=a.p+a.u(t),l=new Error;a.l(r,(n=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var d=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+d+": "+r+")",l.name="ChunkLoadError",l.type=d,l.request=r,o[1](l)}}),"chunk-"+t)}};var t=(t,n)=>{for(var o,d,[r,l,s]=n,i=0,c=[];i<r.length;i++)d=r[i],a.o(e,d)&&e[d]&&c.push(e[d][0]),e[d]=0;for(o in l)a.o(l,o)&&(a.m[o]=l[o]);for(s&&s(a),t&&t(n);c.length;)c.shift()()},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a(632)})();