<html>
<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" data-th-src="@{https://code.jquery.com/jquery-3.5.1.min.js}"></script>
    <link id="mainCssLink" rel="stylesheet" type="text/css" href="css/style.css" data-th-href="@{/css/style.css}"/>
    <script data-th-src="@{/js/style.js}" src="js/style.js" crossorigin="anonymous"></script>
    <title>Register</title>
    <script type="text/javascript">
        function workerShow(userType)
        {
            console.log(userType);
            if (userType) {
                if ("worker" === userType.value) {
                    document.getElementById("workerUpload").style.display = "block";
                } else {
                    document.getElementById("workerUpload").style.display = "none";
                }
            } else {
                document.getElementById("workerUpload").style.display = "none";
            }
        }
    </script>
</head>
<body>
<div class="container" style="max-width: 800px">
    <h2 class="h2-register">Register</h2>
    <form class="form register-form" method="POST" action="register.html" data-th-action="@{/register}" enctype="multipart/form-data">
        <div class="form-group">
            <div class="form-row">
                <div class="col">
                    <label>Username</label>
                    <input class="form-control" type="text" name="username" placeholder="Username"/>
                </div>
                <div class="col">
                    <label>Role</label>
                    <select class="form-control" name="role" onchange="workerShow(this);">
                        <option value="worker">User</option>
                        <option value="manager">Admin</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="form-row">
                <div class="col">
                    <label>E-Mail</label>
                    <input type="email" class="form-control" name="email" placeholder="E-Mail"/>
                </div>
            </div>
            </div>
                    <div class="form-group">
            
            <div class="form-row">
                <div class="col">
                    <label>Password</label>
                    <input type="password" class="form-control" name="password" placeholder="Password"/>
                </div>
                <div class="col">
                    <label>Confirm password</label>
                    <input type="password" class="form-control" name="password_cnf" placeholder="Confirm password"/>
                </div>
            </div>
        </div>
        <input type="submit" id="submitButton" class="btn btn-primary btn-register" value="Let's go!" />

    </form>
    <a href="login.html" data-th-href="@{/login}" class="register-link">Login here</a>
   
</div>
<script type="text/javascript">
    document.getElementById("submitButton").addEventListener("click", (e) => {
        if (document.getElementsByName("password")[0].value !== document.getElementsByName("password_cnf")[0].value) {
            e.preventDefault();
            window.alert("Passwords do not match.");
        }
    });
    
</script>
</body>
</html>
